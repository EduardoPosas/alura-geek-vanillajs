import"./style-952d8456.js";import{C as E}from"./CategoryService-5452352c.js";import{p as w,a as L}from"./ProductService-4ab90952.js";import"./ContactController-aba72802.js";const N=()=>{const e=document.createElement("a");return e.className="py-3 px-4 border border-indigo-600 text-indigo-600 font-bold rounded-sm hover:bg-indigo-800 hover:text-neutral-100",e.href="/alura-geek-vanillajs/views/login.html",e.textContent="Login",e},k=()=>{const e=document.createElement("a");return e.className="py-3 px-4 border border-red-600 text-red-600 font-bold rounded-sm hover:bg-red-800 hover:text-neutral-100",e.href="",e.textContent="Logout",e},S=()=>{const e=document.createElement("a");return e.className="py-3 px-4 border border-indigo-600 text-indigo-600 font-bold rounded-sm hover:bg-indigo-800 hover:text-neutral-100",e.href="/alura-geek-vanillajs/views/products.html",e.textContent="Admin",e},j=document.querySelector("[data-search-container]"),q=(e,s)=>{const d=e.target.value.toLowerCase(),t=document.querySelector(".filtered-products-container");if(t&&t.remove(),!d.length)return;const o=s.filter(a=>a.name.toLowerCase().includes(d)),r=document.createElement("ul");r.className="filtered-products-container absolute bg-white z-10 w-[40rem] mt-2 left-1/2 -translate-x-1/2 rounded-sm p-4 divide-y divide-indigo-200",o.forEach(a=>{const{id:l,name:i}=a,c=document.createElement("li");c.className="mt-2 py-2 px-4 hover:bg-indigo-100 cursor-pointer";const n=document.createElement("a");n.className="block w-full",n.textContent=i,n.href=`/alura-geek-vanillajs/views/product-description.html?id=${l}`,c.appendChild(n),r.appendChild(c)}),j.appendChild(r)},B=document.querySelector("[data-search]"),$=async()=>{const e=document.querySelector(".sk-circle");e.classList.add("display-block"),e.classList.remove("display-none");const s=await E();e.classList.add("display-none"),e.classList.remove("display-block"),s.forEach(async d=>{const{id:t,category:o}=d,r=document.querySelector("[data-categories]"),a=document.createElement("section");a.className="mb-8 last-of-type:mb-0";const l=document.createElement("div");l.className="grid grid-cols-2 gap-4 md:grid-cols-4 lg:grid-cols-6";const i=document.createElement("div");i.className="flex items-center justify-between mb-8 border-b-[1px] border-b-neutral-200";const c=document.createElement("h2");c.className="text-3xl font-bold text-neutral-700",c.textContent=o;const n=document.createElement("a");n.className="text-lg text-indigo-600 flex items-center after:content-[url('/images/right-arrow.svg')] after:ml-2 after:transition-transform after:ease-in-out after:duration-300 hover:after:translate-x-1",n.textContent="Ver Todo",n.href=`/alura-geek-vanillajs/views/products-category.html?category=${o}`,i.appendChild(c),i.appendChild(n),a.appendChild(i),(await L(o)).forEach(f=>{const{category:I,description:C,id:b,imageUrl:x,name:v,price:y}=f,m=document.createElement("div"),u=document.createElement("img");u.className="h-[15rem] w-full object-cover object-top",u.src=x,u.alt=C;const g=document.createElement("h3");g.className="text-base mt-4",g.textContent=v;const h=document.createElement("p");h.className="font-bold text-neutral-700 text-xl mt-4",h.textContent=`$ ${y}`;const p=document.createElement("a");p.className="text-indigo-600 inline-block mt-4 transition-all duration-300 ease-in-out hover:text-indigo-800 hover:font-bold",p.textContent="Ver Producto",p.href=`/alura-geek-vanillajs/views/product-description.html?id=${b}`,m.appendChild(u),m.appendChild(g),m.appendChild(h),m.appendChild(p),l.appendChild(m),a.appendChild(l)}),r.appendChild(a)})};document.addEventListener("DOMContentLoaded",async()=>{const e=JSON.parse(sessionStorage.getItem("user")),s=document.querySelector("[data-header]");if(!e){const t=N();s.appendChild(t)}if(e){const t=document.createElement("div");t.className="flex gap-2";const o=k(),r=S();o.onclick=()=>{sessionStorage.removeItem("user"),window.location.reload()},t.appendChild(r),t.appendChild(o),s.appendChild(t)}const d=await w();B.addEventListener("keyup",t=>q(t,d))});$();
