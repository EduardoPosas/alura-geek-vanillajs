import"./style-e05a32fb.js";import{C as E}from"./CategoryService-5452352c.js";import{p as w,a as N}from"./ProductService-4ab90952.js";import"./ContactController-aba72802.js";const L=()=>{const e=document.createElement("a");return e.className="py-3 px-4 border border-indigo-600 text-indigo-600 font-bold rounded-sm hover:bg-indigo-800 hover:text-neutral-100",e.href="/views/login.html",e.textContent="Login",e},S=()=>{const e=document.createElement("a");return e.className="py-3 px-4 border border-red-600 text-red-600 font-bold rounded-sm hover:bg-red-800 hover:text-neutral-100",e.href="",e.textContent="Logout",e},k=()=>{const e=document.createElement("a");return e.className="py-3 px-4 border border-indigo-600 text-indigo-600 font-bold rounded-sm hover:bg-indigo-800 hover:text-neutral-100",e.href="/views/products.html",e.textContent="Admin",e},q=document.querySelector("[data-search-container]"),B=(e,a)=>{const i=e.target.value.toLowerCase(),t=document.querySelector(".filtered-products-container");if(t&&t.remove(),!i.length)return;const c=a.filter(r=>r.name.toLowerCase().includes(i)),o=document.createElement("ul");o.className="filtered-products-container absolute bg-white z-10 w-[40rem] mt-2 left-1/2 -translate-x-1/2 rounded-sm p-4 divide-y divide-indigo-200",c.forEach(r=>{const{id:d,name:s}=r,n=document.createElement("li");n.className="mt-2 py-2 px-4 hover:bg-indigo-100 cursor-pointer";const l=document.createElement("a");l.className="block w-full",l.textContent=s,l.href=`/views/product-description.html?id=${d}`,n.appendChild(l),o.appendChild(n)}),q.appendChild(o)},$=document.querySelector("[data-search]"),j=async()=>{(await E()).forEach(async a=>{const{id:i,category:t}=a,c=document.querySelector("[data-categories]"),o=document.createElement("section");o.className="mb-8 last-of-type:mb-0";const r=document.createElement("div");r.className="grid grid-cols-2 gap-4 md:grid-cols-4 lg:grid-cols-6";const d=document.createElement("div");d.className="flex items-center justify-between mb-8 border-b-[1px] border-b-neutral-200";const s=document.createElement("h2");s.className="text-3xl font-bold text-neutral-700",s.textContent=t;const n=document.createElement("a");n.className="text-lg text-indigo-600 flex items-center after:content-[url('/images/right-arrow.svg')] after:ml-2 after:transition-transform after:ease-in-out after:duration-300 hover:after:translate-x-1",n.textContent="Ver Todo",n.href=`../views/products-category.html?category=${t}`,d.appendChild(s),d.appendChild(n),o.appendChild(d),(await N(t)).forEach(f=>{const{category:A,description:C,id:x,imageUrl:b,name:v,price:y}=f,m=document.createElement("div"),u=document.createElement("img");u.className="h-[15rem] w-full object-cover object-top",u.src=b,u.alt=C;const h=document.createElement("h3");h.className="text-base mt-4",h.textContent=v;const g=document.createElement("p");g.className="font-bold text-neutral-700 text-xl mt-4",g.textContent=`$ ${y}`;const p=document.createElement("a");p.className="text-indigo-600 inline-block mt-4 transition-all duration-300 ease-in-out hover:text-indigo-800 hover:font-bold",p.textContent="Ver Producto",p.href=`/views/product-description.html?id=${x}`,m.appendChild(u),m.appendChild(h),m.appendChild(g),m.appendChild(p),r.appendChild(m),o.appendChild(r)}),c.appendChild(o)})};document.addEventListener("DOMContentLoaded",async()=>{const e=JSON.parse(sessionStorage.getItem("user")),a=document.querySelector("[data-header]");if(!e){const t=L();a.appendChild(t)}if(e){const t=document.createElement("div");t.className="flex gap-2";const c=S(),o=k();c.onclick=()=>{sessionStorage.removeItem("user"),window.location.reload()},t.appendChild(o),t.appendChild(c),a.appendChild(t)}const i=await w();$.addEventListener("keyup",t=>B(t,i))});j();
