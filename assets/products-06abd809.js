import"./style-952d8456.js";import{p as v,e as w}from"./ProductService-4ab90952.js";import"./ContactController-aba72802.js";const b=async()=>{const t=document.querySelector(".sk-circle");t.classList.add("display-block"),t.classList.remove("display-none");const r=await v();t.classList.add("display-none"),t.classList.remove("display-block");const l=document.querySelector("[data-products-container]");r.forEach(m=>{const{id:a,name:p,imageUrl:u,category:C,description:h,price:g}=m,e=document.createElement("div");e.className="relative";const c=document.createElement("img");c.className="h-[15rem] w-full object-cover object-top",c.src=u,c.alt=h,e.appendChild(c);const s=document.createElement("h3");s.className="text-base mt-4",s.innerText=p,e.appendChild(s);const d=document.createElement("p");d.className="font-bold text-neutral-700 text-xl mt-4",d.innerText=`$ ${g}`,e.appendChild(d);const i=document.createElement("p");i.className="mt-4",i.innerText=`# ${a}`,e.appendChild(i);const o=document.createElement("img");o.className="w-[1rem] invert absolute top-1 right-1 cursor-pointer",o.src="../images/delete-icon.svg",o.alt="delete button",e.appendChild(o),o.onclick=async()=>{await w(a).then(()=>{window.location.reload()})};const n=document.createElement("img");n.className="w-[1rem] invert absolute top-1 right-6 cursor-pointer",n.src="../images/edit-icon.svg",n.alt="edit product button",e.appendChild(n),n.onclick=()=>{window.location.href=`/alura-geek-vanillajs/views/add-product.html?id=${a}`},l.appendChild(e)})};b();document.addEventListener("DOMContentLoaded",()=>{const t=JSON.parse(sessionStorage.getItem("user"));console.log(t),t||(window.location.href="../index.html")});
